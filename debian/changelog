xorg (1:7.0.15) UNRELEASED; urgency=low

  * Debconf translations:
    - Merge translations from the 6.9 branch. Most of them were pending
      there and have not been merged when 7.0 came in
      Closes: #363051
    - French translation completed (Christian Perrier)
    - Add Hungarian translation (SZERVAC Attila). Closes: #352471
    - Update Dutch translation (Bart Cornelis). Closes: #358171
    - Update Catalan translation (Jordi Mallach). Closes: #350765
    - Update German translation (Jens Seidel). Closes: #341003
    - Update Polish translation (Bartosz Fenski). Closes: #359746
    - Update Czech translation (Miroslav Kure). Closes: #362495
    - Update Danish translation (Claus Hindsgaul). Closes: #362570
    - Update Galician translation (Jacobo Tarrio). Closes: #362821
    - Update Romanian translation (Eddy Petrisor).

 -- Christian Perrier <bubulle@debian.org>  Thu, 20 Apr 2006 13:58:25 +0200

xorg (1:7.0.14) unstable; urgency=low

  * Add more versioned conflicts (libmotif-dev, motif-clients, xslideshow,
    xtrkcad). Thanks Steve Langasek.
  * Grab discover_video function from xserver-xorg.config.in from 6.9. The
    discover2 support was dropped solely in favor of discover1. This caused
    people with discover installed instead of discover1 to have an error
    returning 64 on their xserver-xorg postinstall. Thanks to Daniele
    Venzano for the bug report. Thanks to Steve Gran and Steve Langasek for
    tracking this down. (closes: #362891, #363021)
  * Make x11-common pre-depend on debconf | debconf-2.0. Thanks Steve
    Langasek. (closes: #362992)
  * Make x-window-system and x-window-system-core transitional packages that
    depend on the xorg package. These packages will smooth upgrades from sarge
    and will be removed upon the release of etch.
  * Make x11-common not depend on laptop-detect. This is now only recommended
    by xserver-xorg. Thanks Marc Wilson. (closes: #363081)
  * Have xserver-xorg-input-all pull in synaptics driver on all arches that
    it's set to build on. This required not loading the plain vars file in
    debian/rules, and having the variable listing the input drivers moved to
    the arch-specific vars files.

 -- David Nusinow <dnusinow@debian.org>  Mon, 17 Apr 2006 12:30:06 -0400

xorg (1:7.0.13) unstable; urgency=low

  * Fix shell snippet that provides the /usr/X11R6/bin dir->symlink
    transition. This prevents the test from succeeding incorrectly.
    Thanks Steve Langasek. (closes: #362940)
  * Fix case on xfs-xtt conflict for x11-common. Thanks Mike Furr.
    (closes: #362955)
  * Add x11-common conflict on xearth. Thanks Steve M. Robbins.
    (closes: #362524)

 -- David Nusinow <dnusinow@debian.org>  Sun, 16 Apr 2006 17:45:49 -0400

xorg (1:7.0.12) unstable; urgency=low

  * Move hardware autodetection stuff to Recommends rather than Depends.
    Also allow discover in addition to discover1. Thanks a lot of people.
    (closes: #322659, #362060,#362253)
  * Update list of x11-common conflicts. Thanks Steve Langasek.
    (closes: #362711)
  * Better document what can be done in the event that x11-common isn't empty
    on upgrade. Tell people in the error message that they can move the items
    there back after the installation has finished.
  * Make xserver-xorg-(input|video)-all arch: any rather than all, to let them
    build properly. Thanks Eugene Konev for the fix. Thanks Paul Wise and LIU
    Xin. (closes: #362719, #362720, #362694, #362672)
  * Remove the /usr/X11R6/bin/X symlink from xserver-xorg. Also bump the
    x11-common conflicts with xserver-xorg to this version. Thanks Joey Hess
    and Christian Hammers. Thanks to Steve Langasek for the fix.
    (closes: #362713, #362672)
  * Add pgaccess to the list of packages to conflict with. Thanks Bas
    Couwenberg. (closes: #362685)
  * Have safer and better logic for replacing the /usr/X11R6/bin dir with a
    symlink. Handle new installs. Thanks Bart Vanhaute. (closes: #362780)

 -- David Nusinow <dnusinow@debian.org>  Sat, 15 Apr 2006 12:41:32 -0400

xorg (1:7.0.11) unstable; urgency=low

  * Have xserver-xorg depend on xkb-data | xkb-data-legacy. Not a recommends
    any more. Thanks to a lot of people. (closes: #362112, #362105, #362521)
  * Make various metapackages arch: any rather than arch: all
  * Add s390 vars script source to allow the package to build on that arch.
    Provides only the dummy video driver currently.
    (closes: #361908, #361909)
  * On xserver-xorg postinst, reconfigure for all versions less than or equal
    to this one. This will only occur if the file is not customized. This will
    automatically correct for new font and xkb data paths. Users with
    customized files will have to make the necessary changes, documented in
    the NEWS.Debian file for the xserver-xorg-core package.
  * Have x11-common conflict with packages installing binaries to
    /usr/X11R6/bin. We need to remove them in order to install a proper
    symlink at this location to /usr/bin. Packages will still be able to
    install to /usr/X11R6/bin, but they need to be removed from the system
    first so that we can set up the symlink and not drop them out of the path.
    Thanks Steve Langasek. (closes: #362524, #362200)
  * Symlink /usr/X11R6/bin to /usr/bin in x11-common.postinst. Thanks Steve
    Langasek.
  * Several fixes for fonts. Include /usr/X11R6/lib/X11/fonts as a directory
    in x11-common for font packages that have not transitioned to the new
    directory. /usr/lib/X11/fonts symlinks to this directory. Both of these
    used to be symlinks to /usr/share/fonts/X11 but no longer. We explicitly
    remove the symlink at /usr/X11R6/lib/X11/fonts in the x11-common preinst
    to ensure this transition. Thanks Eugene Konev.
  * Document the change of PATH to /usr/X11R6/bin in x11-common NEWS.Debian
    file. Thanks Joey Hess. (closes: #362222)
  * Have x11-common conflict with libxft-dev <= 2.1.8.2-5. Thanks Margarita
    Manterola. (closes: #362255)
  * Document the metapackage name change in x11-common's NEWS.Debian.
  * Have xserver-xorg depend on xbase-clients
  * Ensure that config file md5sum gets migrated from /var/lib/xfree86 to
    /var/libx11. To do so, separate the test for it from the roster file in
    the xserver-xorg preinst. Properly handle the migration itself as well by
    using better variables in the mv command. Thanks Justin Pryzby.
    (closes: #331690)
  * Similarly separate the md5sum for the server symlink from the roster. Also
    handle the case where the server symlink md5sum is removed but the symlink
    itself is in place. Here we just remake the md5sum using that symlink
    silently.

 -- David Nusinow <dnusinow@debian.org>  Fri, 14 Apr 2006 01:38:14 -0400

xorg (1:7.0.10) unstable; urgency=low

  * Force migration of symlink if it points to /bin/true. Thanks Sune Vuorela
    for the bug report and Ari Pollak for the fix.
  * Upload to unstable

 -- David Nusinow <dnusinow@debian.org>  Sat,  8 Apr 2006 13:28:17 -0400

xorg (1:7.0.9) experimental; urgency=low

  * Put the Xsession stuff back in to x11-common. Thanks Arjan Oosting.
    (closes: #361025)

 -- David Nusinow <dnusinow@debian.org>  Fri,  7 Apr 2006 00:27:00 -0400

xorg (1:7.0.8) experimental; urgency=low

  * Add vars files for alpha, m68k, mips, mipsel, and arm. These are crude
    currently and definitely need refining from actual porters. If we're
    building useless drivers for your arch and including them in the
    metapackage, let us know and we'll disable them. Thanks Julien Cristau and
    Martin Michlmayr.

 -- David Nusinow <dnusinow@debian.org>  Tue,  4 Apr 2006 23:06:38 -0400

xorg (1:7.0.7) experimental; urgency=low

  * Add x11-common conflicts with monolithic versions of xserver-xorg. This
    will prevent the modular packages from screwing up old installations due
    to a partial install. Thanks Steve Langasek.
  * Add xlibs-static-dev transitional metapackage

 -- David Nusinow <dnusinow@debian.org>  Sun, 26 Mar 2006 19:18:31 -0500

xorg (1:7.0.6) experimental; urgency=low

  * At the urgent request of the release and ftp teams, xlibs must die. Have
    the xserver-xorg package recommend xkb-data instead. xkb-data should
    already be pulled in by several pieces including the xorg metapackage,
    xutils, and xbase-clients
  * Double the font compatibility symlink. One set at /usr/X11R6/lib/X11/fonts
    and one at /usr/lib/X11/fonts. Both point to /usr/share/fonts/X11, which
    is our home for the fonts.

 -- David Nusinow <dnusinow@debian.org>  Tue, 21 Mar 2006 23:29:42 -0500

xorg (1:7.0.5) experimental; urgency=low

  * Have xserver-xorg conflict and replace xserver-common. Thanks Miles Bader.
    (closes: #356781)

 -- David Nusinow <dnusinow@debian.org>  Sun, 19 Mar 2006 23:57:10 -0500

xorg (1:7.0.4) experimental; urgency=low

  * Name rgb.txt symlink properly so that the xserver actually finds it.
    Thanks Luca Capello.

 -- David Nusinow <dnusinow@debian.org>  Sun, 12 Mar 2006 12:58:04 -0500

xorg (1:7.0.3) experimental; urgency=low

  * Include rgb.txt from rgb 1.0.0 upstream release. Also provide symlink to
    /usr/share/X11 so that the server knows where to look. Thanks Lukasz
    Panowski. (closes: #356039)
  * Update dexconf for new font location. Thanks Svante Signell.
    (closes: #356181)

 -- David Nusinow <dnusinow@debian.org>  Sat, 11 Mar 2006 19:04:46 -0500

xorg (1:7.0.2) experimental; urgency=low

  * Have xorg-dev only depend on libxaw7-dev, not 6. Thanks Carsten Luedtke.
    (closes: #355703)

 -- David Nusinow <dnusinow@debian.org>  Tue,  7 Mar 2006 20:12:28 -0500

xorg (1:7.0.1) experimental; urgency=low

  * xorg depends on libgl1-mesa-glx now instead of the ubuntu package name.
    Thanks anonymous dude on my blog who should have used reportbug instead.
  * Provide compatibility packages for the Xorg 6.9 mesa packages. This
    package will be the only source of mesa packages in Debian for the
    present, and these packages will provide for smooth upgrades and
    compatibility.
  * Provide versioned dependencies for all the stuff xorg depends on.

 -- David Nusinow <dnusinow@debian.org>  Fri, 24 Feb 2006 01:13:18 -0500

xorg (1:7.0.0) experimental; urgency=low

  * First upload to Debian
  * Add an epoch due to idiocy while working on aborted experimental packages
  * This is a Debian-native package so version it accordingly
  * Remove xbase-clients and xutils metapackages. We're just bundling the apps
    in to one big source package right now
  * Convert to xsfbs
    + shell-lib.sh deleted in favor of xsfbs/xsfbs.sh
    + use targets for script generation and such from xsfbs/xsfbs.mk
  * Change driver metapackage naming to match individual packages:
    + xserver-xorg-driver -> xserver-xorg-video
    + Update the packaging variables that define arch-specific drivers to
      include in the metapackage as well to match these names
  * Remove extra depends on x11-common from xserver-xorg
  * Add debconf dependency for xserver-xorg
  * setuid for /usr/bin/X (stolen from monolith's debian/rules)
  * Provide xlibs and xlibs-data transitional packages. These are empty
    packages that depend on the packages that replace them.
  * Create an xorg metapackage that provides x-window-system(-core). This is a
    simpler name and should suffice. We don't need this split between -system
    and -system-core. If people want twm and so forth they can install it.
    This package installs -core plus xterm currently.
  * Re-add x-window-system-dev package under the new name of xorg-dev. Note to
    packagers: this is not meant to be build-dep'ed on, but is a convenience
    package for users.
  * Provide a compatibility symlink to /usr/lib/X11/fonts (their new home) at
    /usr/X11R6/lib/X11/fonts. This will let external fonts work as expected.
    Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Mon, 20 Feb 2006 22:10:54 -0500

xorg (7.0.0-0ubuntu14) dapper; urgency=low

  * Support preseeding of xserver-xorg/config/display/default_depth even
    when autodetecting video. (Unfortunately, this will mean that people get
    the wrong default presented on second and subsequent low-priority
    reconfigures, though.)

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  3 Feb 2006 12:29:00 +0000

xorg (7.0.0-0ubuntu13) dapper; urgency=low

  * Would be nice if we would still exit 0, however...

 -- Adam Conrad <adconrad@ubuntu.com>  Tue, 31 Jan 2006 09:48:00 +0000

xorg (7.0.0-0ubuntu12) dapper; urgency=low

  * Make /etc/init.d/x11-common completely silent unless running VERBOSE.

 -- Adam Conrad <adconrad@ubuntu.com>  Mon, 30 Jan 2006 15:03:15 +0000

xorg (7.0.0-0ubuntu11) dapper; urgency=low

  * Fix first-installation logic to cope with being called from the postinst
    too (closes: Malone #29564).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 27 Jan 2006 18:22:46 +0000

xorg (7.0.0-0ubuntu10) dapper; urgency=low

  * Remove xserver-xorg-driver-v4l and xserver-xorg-driver-glide from the
    Depends field of xserver-xorg-driver-all
  * Remove xserver-xorg-input-wacom from the Depends field of
    xserver-xorg-input-all
  * Add zlib1g-dev to the dependency list of xlibs-dev and remove
    xlibs-static-dev, since the latter no longer exists.
    
 -- Tollef Fog Heen <tfheen@ubuntu.com>  Fri, 20 Jan 2006 11:25:57 +0100

xorg (7.0.0-0ubuntu9) dapper; urgency=low

  * Re-add xutils and xbase-clients metapackages.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 20 Jan 2006 16:39:24 +1100

xorg (7.0.0-0ubuntu8) dapper; urgency=low

  * Add xserver-xorg-driver-sisusb to amd64, i386 and powerpc; add
    -driver-voodoo to amd64 and i386.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 20 Jan 2006 15:27:03 +1100

xorg (7.0.0-0ubuntu7) dapper; urgency=low

  * Add dh_install call to binary-arch instead of just being in -indep
    (thanks, Andres Salomon).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 20 Jan 2006 10:21:13 +1100

xorg (7.0.0-0ubuntu6) dapper; urgency=low

  * Change xserver-xorg's dependency on x-common to x11-common.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 20 Jan 2006 01:39:58 +1100

xorg (7.0.0-0ubuntu5) dapper; urgency=low

  * Also check that /usr/bin/X11 isn't a symlink, since -d covers both
    directories, and symlinks to directories.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 20 Jan 2006 00:00:58 +1100

xorg (7.0.0-0ubuntu4) dapper; urgency=low

  * Clean debian/local/X instead of debian/local/xserver-wrapper, and make
    x11-common Arch: any instead of all.  I am clever.  (closes: Malone#28967)

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 19 Jan 2006 23:00:03 +1100

xorg (7.0.0-0ubuntu3) dapper; urgency=low

  * Perform x-common-esque symlink<->dir transitions in x11-common; add
    Conflicts on x-common.
  * Trim default set of input drivers down to evdev, keyboard, mouse, wacom.
  * Rejig handling of x-window-system-core depends.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 19 Jan 2006 17:06:53 +1100

xorg (7.0.0-0ubuntu2) dapper; urgency=low

  * Add laptop-detect dependency to x11-common, make preinst slightly more,
    er, robust, in the face of failure (closes: Malone#28911).
  * Add dependencies in laptop-detect, xresprobe, mdetect and discover1 to
    xserver-xorg.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 19 Jan 2006 08:33:23 +1100

xorg (7.0.0-0ubuntu1) dapper; urgency=low

  * This package now only provides metapackages; we're now modular for real
    real, not for play play.
  * The xlibs, xlibs-data, xlibs-static-dev, xlibs-static-pic, xbase-clients,
    xutils, and x-window-system-dev packages have been removed.  xlibs-dev
    remains.  For now.
  * Merge xserver-common and xorg-common packages into x11-common.
  * Rewrite keyboard detection list to work off d-i keymap only, not language
    too.
  * Drop support for upgrades from pre-sarge, remove support for
    XORG_FORCE_PROBE environment variable.  Remove support for
    non-multiplexed mice in dexconf.
  * Prune unneeded bits of shell-lib.sh (which turns out to be most of it).
  * Move xserver-xorg.config.in detection bits into .postinst.in, so it all
    happens in the one place, and we can use the X server to configure itself
    by detecting its own driver if need be.
  * Move all previous changelog entries to changelog.Debian.old.
  * neomagic is also special, in terms of mode validation on laptops
    (closes: Ubuntu#18957).
  * Move update-linux-hardened-support call from xserver-xorg postinst to
    xserver-xorg-core.
  * Move md5sum/roster directory to /var/lib/x11 from /var/lib/xfree86, and
    use /usr/bin/Xorg, instead of /usr/bin/X11/Xorg.
  * I don't think the following:
     Users of SGI Indigo2 XL machines, or machines with other buses not yet
     fully supported, should specify simply "1" here.  (This is not
     guaranteed to work.)
     was really necessary to have in a Debconf note, so let's remove it.
  * Get rid of write_dri_section question, and just always write it.
  * Replace $NOPROBE with $AUTODETECT_VIDEO, and $DOPROBE with $UPGRADE,
    inverting the senses of both variables.
  * Remove support for DEBUG_XFREE86_* variables (has been DEBUG_XORG_* for a
    while now).
  * Remove compatibility code for xresprobe < 0.4.13.
  * Remove long-unused 'are you on an LCD?' question.
  * Don't touch the config file when we're upgrading.  Specific migrations
    needed can be done in-place.
  * Add seconds to the backup xorg.conf file's name, so you can do multiple
    reconfigures in the same minute.
  * Remove language -> keymap 'smarts'.
  * Make xserver-xorg depend on either the full set of drivers
    (xserver-xorg-driver-all, xserver-xorg-input-all), or any individual
    driver (xserver-xorg-driver, xserver-xorg-input).
  * Remove all dependencies on -driver-atimisc, as it is part of -ati.
  * Nuke irrelevant history section and segue into xf86cfg description from
    dexconf's manpage, update XF86Config-4 references to talk about xorg.conf
    instead.
  * Remove code which checked if a given directory didn't exist ... right
    after it ensured it had been created.
  * Change default mouse protocol to ExplorerPS/2 (closes: Ubuntu#4106).
  * Remove support in dexconf for CID fonts, since mkcfm is wildly non-free.
  * Remove support for ZAxisMapping.
  * Ensure GLcore is removed from the module list when upgrading.
  * Remove XFree86 history spiel from x11-common description.
  * Add /usr/X11R6/bin/X -> /usr/bin/X link.
  * Ask the 'which server?' question at priority low.
  * Remove hppa's hardcoded null _INPUT_DEPENDS, as the libdl-based loader has
    dragged the rest of this architecture kicking and screaming into 1983.
    Unfortunately LaMont is still stuck in 1975, but you can't expect me to
    fix that.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu,  13 Oct 2005 10:06:23 +1000

  Older changelog entries (back to 4.0.1) can be found in changelog.Debian.old.
  Releases previous to this fixed the following security issues (details in
  changelog.Debian.old): CAN-2004-0419, CAN-2004-0083, CAN-2004-0084,
  CAN-2004-0106, CAN-2003-0690, CAN-2003-0730, CAN-2003-0690, CAN-2003-0063,
  CAN-2003-0071, CAN-2004-0093, CAN-2004-0094, CAN-2004-0093, CAN-2004-0094.
  These should all be moved to their respective source packages. -daniels
